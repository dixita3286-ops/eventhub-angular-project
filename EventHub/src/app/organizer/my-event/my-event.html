<div class="main">

  <!-- HEADER -->
  <div class="top-bar">
    <h1>My Events</h1>
    <button class="create-btn" (click)="createEvent()">+ Create Event</button>
  </div>

  <!-- FILTERS -->
  <div class="filters">
    <button (click)="setStatus('all')" [class.active]="status==='all'">All</button>
    <button (click)="setStatus('approved')" [class.active]="status==='approved'">Approved</button>
    <button (click)="setStatus('pending')" [class.active]="status==='pending'">Pending</button>
    <button (click)="setStatus('rejected')" [class.active]="status==='rejected'">Rejected</button>
  </div>

  <!-- EVENTS GRID -->
  <div class="event-grid">

    <div class="event-card" *ngFor="let e of filteredEvents">

      <!-- IMAGE -->
      <img
        [src]="'http://localhost:5000' + e.eventImage"
        alt="event image"
      />

      <!-- INFO -->
      <div class="info">
        <h3>{{ e.title }}</h3>
        <p><b>Category:</b> {{ e.category }}</p>
        <p><b>Date:</b> {{ e.date | date }}</p>
        <p><b>Venue:</b> {{ e.venue }}</p>
      </div>

      <!-- ACTIONS -->
      <div class="actions">
        <a (click)="modify(e._id)">Modify</a>
        <a (click)="viewDetails(e._id)">View Details</a>
        <a (click)="viewRegistrations(e._id)">View Registrations</a>
      </div>

    </div>

  </div>

  <p class="no-data" *ngIf="filteredEvents.length === 0">
    No events found
  </p>

</div>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet">

<div class="main">

  <!-- HEADER -->
  <div class="header-bar">
    <h1>Registered Students</h1>
    <button class="back-btn" (click)="goBack()">â† Back</button>
  </div>

  <!-- FILTER BAR -->
  <div class="filter-bar">
    <input
      type="text"
      placeholder="Search student name / email..."
      [(ngModel)]="search"
      (input)="applyFilter()"
    />

    <select [(ngModel)]="status" (change)="applyFilter()">
      <option value="">All Status</option>
      <option value="registered">Registered</option>
      <option value="pending">Pending</option>
      <option value="cancelled">Cancelled</option>
    </select>
  </div>

  <!-- LOADER -->
  

  <!-- SQUARE CARDS -->
  <div class="card-grid" *ngIf="!loading && filteredStudents.length > 0">
    <div class="student-card" *ngFor="let s of filteredStudents; let i = index">

      <div class="card-top">
        <span class="index">No : {{ i + 1 }}</span>
        <span class="badge" [ngClass]="s.status || 'registered'">
          {{ s.status || 'registered' }}
        </span>
      </div>

      <div class="card-body">
        <h3>{{ s.name }}</h3>
        <p class="email">{{ s.email }}</p>
      </div>

      <div class="card-footer">
        Registered on
        <strong>{{ s.createdAt | date:'mediumDate' }}</strong>
      </div>

    </div>
  </div>

  <!-- NO DATA -->
  <p class="no-data" *ngIf="!loading && filteredStudents.length === 0">
    No registered students found.
  </p>

</div>
